<!DOCTYPE html>
<html lang="en">
<head></head>
<body>
  <div id="navbar"></div>

  <section id="booking" class="py-5">
    <div class="container">
      <h1 class="text-center mb-4">Book Your Stay</h1>
        <form id="bookingForm" class="row g-4 needs-validation" novalidate>

          <!-- Booking Details -->
          <div class="col-md-6">
            <label for="checkin" class="form-label">Check-in Date</label>
            <input type="date" class="form-control" id="checkin" name="checkin" required>
            <div class="valid-feedback">Correct.</div>
            <div class="invalid-feedback">Please select a check-in date.</div>
          </div>

          <div class="col-md-6">
            <label for="checkout" class="form-label">Check-out Date</label>
            <input type="date" class="form-control" id="checkout" name="checkout" required>
            <div class="valid-feedback">Correct.</div>
            <div class="invalid-feedback">Please select a check-out date.</div>
          </div>

          <div class="col-md-6">
            <label for="r_class" class="form-label">Room Type</label>
            <select class="form-select" id="r_class" name="r_class" required>
              <option value="" selected disabled>Select Room Type</option>
              <option value="std_d">Standard Double</option>
              <option value="std_t">Standard Twin</option>
              <option value="sup_d">Superior Double</option>
              <option value="sup_t">Superior Twin</option>
            </select>
            <div class="valid-feedback">Correct.</div>
            <div class="invalid-feedback">Please select a room type.</div>
          </div>

          <div class="col-md-6">
            <label for="room_count" class="form-label">Number of Rooms</label>
            <input type="number" class="form-control" id="room_count" name="room_count" min="1" max="5" required>
            <div class="valid-feedback">Correct.</div>
            <div class="invalid-feedback">Enter 1-5 rooms.</div>
          </div>

          <!-- Notes -->
          <div class="col-12">
            <label for="b_notes" class="form-label">Booking Notes</label>
            <textarea class="form-control" id="b_notes" name="b_notes" rows="3"></textarea>
          </div>

          <!-- Button to Check Availability -->
          <div class="col-12 text-center">
            <button type="submit" class="btn px-5">Check Availability</button>
          </div>

          <!-- Placeholder for Unavailable Status Message -->
          <div id="availabilityMessage" class="text-center mt-4"></div>
        </form>
      </div>
    </div>
  </section>

  <div id="footer"></div>

  <script src="/js/components.js"></script> 
  <script src="/js/bootstrap.bundle.min.js"></script>
  <script>
    document.getElementById("bookingForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const form = e.target;
      if (!form.checkValidity()) {
        form.classList.add("was-validated");
        return;
      }
      const available = true; // Replace with backend availability check later
      if (available) {
        window.location.href = "payment.html";
      } else {
        document.getElementById("availabilityMessage").innerHTML =
          '<div class="alert alert-warning">Sorry, your selected room type is not available. Please try a different type or date.</div>';
      }
    });
  </script>
</body>
</html>
